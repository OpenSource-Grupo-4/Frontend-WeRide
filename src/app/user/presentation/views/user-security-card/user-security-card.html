<div class="security-card">
  <div class="card-header">
    <h2>Centro de Seguridad</h2>
    <button class="close-button" (click)="closeCard()" type="button" aria-label="Cerrar">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="card-content">
    <ng-container *ngIf="user$ | async as user">
      <div class="security-section">
        <h3>Estado de Verificación</h3>
        <div class="verification-status">
          <div class="status-badge" [style.background-color]="getVerificationStatusColor(user.verificationStatus)">
            <mat-icon>verified</mat-icon>
            <span>{{ getVerificationStatusText(user.verificationStatus) }}</span>
          </div>
        </div>
      </div>

      <div class="security-section">
        <h3>Información de Seguridad</h3>
        <div class="security-items">
          <div class="security-item">
            <div class="security-icon">
              <mat-icon>lock</mat-icon>
            </div>
            <div class="security-info">
              <span class="security-label">Contraseña</span>
              <span class="security-value">••••••••</span>
            </div>
            <button class="security-action" type="button">
              <mat-icon>edit</mat-icon>
              Cambiar
            </button>
          </div>

          <div class="security-item">
            <div class="security-icon">
              <mat-icon>phone</mat-icon>
            </div>
            <div class="security-info">
              <span class="security-label">Teléfono</span>
              <span class="security-value">{{ user.phone }}</span>
            </div>
            <button class="security-action" type="button">
              <mat-icon>edit</mat-icon>
              Editar
            </button>
          </div>

          <div class="security-item">
            <div class="security-icon">
              <mat-icon>email</mat-icon>
            </div>
            <div class="security-info">
              <span class="security-label">Email</span>
              <span class="security-value">{{ user.email }}</span>
            </div>
            <button class="security-action" type="button">
              <mat-icon>edit</mat-icon>
              Editar
            </button>
          </div>

          <div class="security-item">
            <div class="security-icon">
              <mat-icon>contact_emergency</mat-icon>
            </div>
            <div class="security-info">
              <span class="security-label">Contacto de Emergencia</span>
              <span class="security-value">{{ user.emergencyContact || 'No configurado' }}</span>
            </div>
            <button class="security-action" type="button">
              <mat-icon>edit</mat-icon>
              Configurar
            </button>
          </div>
        </div>
      </div>

      <div class="security-section">
        <h3>Preferencias de Privacidad</h3>
        <div class="privacy-items">
          <div class="privacy-item">
            <span>Notificaciones</span>
            <span class="privacy-status" [class.enabled]="user.preferences.notifications">
              {{ user.preferences.notifications ? 'Activadas' : 'Desactivadas' }}
            </span>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>

