<div class="content">
  <h2>{{ 'booking.scheduleUnlock' | translate }}</h2>

  <div class="schedule-card">
    <div class="vehicle-info">
      <div class="vehicle-icon">ðŸ›´</div>
      <div class="vehicle-details">
        <h3>{{ selectedVehicle?.brand }} {{ selectedVehicle?.model }}</h3>
        <p>{{ selectedVehicle?.location }}</p>
      </div>
    </div>

    <label>{{ 'booking.selectDate' | translate }}</label>
    <input type="date" [(ngModel)]="selectedDate" name="date" required />

    <label>{{ 'booking.unlockTime' | translate }}</label>
    <input type="time" [(ngModel)]="unlockTime" name="time" required />

    <label>{{ 'booking.durationHours' | translate }}</label>
    <select [(ngModel)]="duration" name="duration" required>
      <option *ngFor="let d of [1,2,3,4,5,6]" [value]="d">
        {{ d }} {{ d > 1 ? ('booking.hours' | translate) : ('booking.hour' |
        translate) }}
      </option>
    </select>

    <div *ngIf="availabilityError" class="error-message">
      <mat-icon>error</mat-icon>
      <span>{{ availabilityError }}</span>
    </div>

    <div class="summary" *ngIf="selectedVehicle">
      <h3>{{ 'booking.summary.title' | translate }}</h3>
      <div class="summary-content">
        <div class="summary-row">
          <span class="label"
            >{{ 'booking.summary.vehicle' | translate }}:</span
          >
          <span class="value"
            >{{ selectedVehicle.brand }} {{ selectedVehicle.model }}</span
          >
        </div>
        <div class="summary-row">
          <span class="label"
            >{{ 'booking.summary.dateTime' | translate }}:</span
          >
          <span class="value">{{ formatDateTime() }}</span>
        </div>
        <div class="summary-row">
          <span class="label"
            >{{ 'booking.summary.duration' | translate }}:</span
          >
          <span class="value"
            >{{ duration }} {{ duration > 1 ? ('booking.hours' | translate) :
            ('booking.hour' | translate) }}</span
          >
        </div>
        <div class="summary-row">
          <span class="label">{{ 'booking.summary.rate' | translate }}:</span>
          <span class="value"
            >${{ selectedVehicle.pricePerMinute }}/minute</span
          >
        </div>
        <div class="summary-row total-row">
          <span class="label">{{ 'booking.summary.total' | translate }}:</span>
          <span class="value total">${{ calculateTotal() }}</span>
        </div>
      </div>
    </div>

    <div class="actions">
      <button type="button" class="schedule" (click)="scheduleUnlock()">
        {{ 'booking.scheduleUnlockButton' | translate }}
      </button>
      <button type="button" class="draft" (click)="saveDraft()">
        {{ 'booking.saveDraft' | translate }}
      </button>
    </div>
  </div>
</div>
