import{b as V,e as P,h as O,l as D,m as T,n as E,q as I,s as U}from"./chunk-WZ3ORVKW.js";import{b as k}from"./chunk-NRTV435P.js";import{P as w}from"./chunk-OG6XGFB4.js";import{j as v,k as y,s as x}from"./chunk-7GAM2AWN.js";import"./chunk-QHL7TNPJ.js";import{Kb as m,Lb as e,Mb as t,Xb as f,Yb as _,_a as a,lb as S,lc as n,mc as b,nc as C,oc as d,qc as u,rb as g,rc as p,sc as h,vc as M}from"./chunk-EYER3JCQ.js";var W=()=>[1,2,3,4,5,6];function B(s,l){if(s&1&&(e(0,"option",13),n(1),t()),s&2){let o=l.$implicit;m("value",o),a(),d("",o," hour",o>1?"s":"")}}function R(s,l){if(s&1&&(e(0,"div",14)(1,"h3"),n(2,"Booking Summary"),t(),e(3,"div",15)(4,"div",16)(5,"span",17),n(6,"Vehicle:"),t(),e(7,"span",18),n(8),t()(),e(9,"div",16)(10,"span",17),n(11,"Date & Time:"),t(),e(12,"span",18),n(13),t()(),e(14,"div",16)(15,"span",17),n(16,"Duration:"),t(),e(17,"span",18),n(18),t()(),e(19,"div",16)(20,"span",17),n(21,"Rate:"),t(),e(22,"span",18),n(23),t()(),e(24,"div",19)(25,"span",17),n(26,"Total:"),t(),e(27,"span",20),n(28),t()()()()),s&2){let o=_();a(8),d("",o.selectedVehicle.brand," ",o.selectedVehicle.model),a(5),b(o.formatDateTime()),a(5),d("",o.duration," hour",o.duration>1?"s":""),a(5),C("$",o.selectedVehicle.rate,"/minute"),a(5),C("$",o.calculateTotal())}}var L=class s{searchTerm="";selectedVehicle=null;selectedDate="";unlockTime="";duration=1;smsReminder=!1;emailConfirmation=!1;pushNotification=!1;vehicles=[{id:"1",brand:"Lime",model:"S-300 Electric Scooter",location:"Downtown Station A",distance:"0.2 miles",status:"Available",rate:.15,battery:"85%",range:"25 km"},{id:"2",brand:"Bird",model:"One Electric Scooter",location:"Mall Parking B",distance:"0.5 miles",status:"Available",rate:.2,battery:"92%",range:"30 km"},{id:"3",brand:"Jump",model:"E-Bike City",location:"University Campus",distance:"0.3 miles",status:"Available",rate:.25,battery:"88%",range:"45 km"},{id:"4",brand:"Spin",model:"Scoot Pro",location:"Airport Zone C",distance:"1.2 miles",status:"Reserved",rate:.18,battery:"78%",range:"22 km"}];filteredVehicles=[];constructor(){this.filteredVehicles=[...this.vehicles];let l=new Date;this.selectedDate=l.toISOString().split("T")[0],this.selectedVehicle=this.vehicles[0]}filterVehicles(){this.searchTerm.trim()?this.filteredVehicles=this.vehicles.filter(l=>l.brand.toLowerCase().includes(this.searchTerm.toLowerCase())||l.model.toLowerCase().includes(this.searchTerm.toLowerCase())||l.location.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredVehicles=[...this.vehicles]}selectVehicle(l){this.selectedVehicle=l,this.searchTerm=`${l.brand} ${l.model}`,this.filteredVehicles=[]}formatDateTime(){if(!this.selectedDate||!this.unlockTime)return"Select date and time";let l=new Date(this.selectedDate),o=this.unlockTime,i=l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),[c,r]=o.split(":"),N=parseInt(c)>12?parseInt(c)-12:parseInt(c),A=parseInt(c)>=12?"PM":"AM",F=`${N}:${r} ${A}`;return`${i} at ${F}`}calculateTotal(){if(!this.selectedVehicle)return"0.00";let l=this.duration*60;return(this.selectedVehicle.rate*l).toFixed(2)}scheduleUnlock(){if(!this.selectedVehicle||!this.selectedDate||!this.unlockTime){alert("Please fill in all required fields");return}console.log("Scheduling unlock:",{vehicle:this.selectedVehicle,date:this.selectedDate,time:this.unlockTime,duration:this.duration,notifications:{sms:this.smsReminder,email:this.emailConfirmation,push:this.pushNotification}}),alert("Vehicle unlock scheduled successfully!")}saveDraft(){console.log("Saving draft..."),alert("Draft saved successfully!")}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=S({type:s,selectors:[["app-schedule-unlock"]],decls:28,vars:9,consts:[[1,"content"],[1,"schedule-card"],[1,"vehicle-info"],[1,"vehicle-icon"],[1,"vehicle-details"],["type","date","name","date","required","",3,"ngModelChange","ngModel"],["type","time","name","time","required","",3,"ngModelChange","ngModel"],["name","duration","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","summary",4,"ngIf"],[1,"actions"],["type","button",1,"schedule",3,"click"],["type","button",1,"draft",3,"click"],[3,"value"],[1,"summary"],[1,"summary-content"],[1,"summary-row"],[1,"label"],[1,"value"],[1,"summary-row","total-row"],[1,"value","total"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"h2"),n(2,"Schedule Unlock"),t(),e(3,"div",1)(4,"div",2)(5,"div",3),n(6,"\u{1F6F4}"),t(),e(7,"div",4)(8,"h3"),n(9),t(),e(10,"p"),n(11),t()()(),e(12,"label"),n(13,"Select Date"),t(),e(14,"input",5),h("ngModelChange",function(r){return p(i.selectedDate,r)||(i.selectedDate=r),r}),t(),e(15,"label"),n(16,"Unlock Time"),t(),e(17,"input",6),h("ngModelChange",function(r){return p(i.unlockTime,r)||(i.unlockTime=r),r}),t(),e(18,"label"),n(19,"Duration (hours)"),t(),e(20,"select",7),h("ngModelChange",function(r){return p(i.duration,r)||(i.duration=r),r}),g(21,B,2,3,"option",8),t(),g(22,R,29,7,"div",9),e(23,"div",10)(24,"button",11),f("click",function(){return i.scheduleUnlock()}),n(25,"Schedule Unlock"),t(),e(26,"button",12),f("click",function(){return i.saveDraft()}),n(27,"Save as Draft"),t()()()()),o&2&&(a(9),d("",i.selectedVehicle==null?null:i.selectedVehicle.brand," ",i.selectedVehicle==null?null:i.selectedVehicle.model),a(2),b(i.selectedVehicle==null?null:i.selectedVehicle.location),a(3),u("ngModel",i.selectedDate),a(3),u("ngModel",i.unlockTime),a(3),u("ngModel",i.duration),a(),m("ngForOf",M(8,W)),a(),m("ngIf",i.selectedVehicle))},dependencies:[x,v,y,U,T,E,V,D,P,I,O,k,w],styles:[".content[_ngcontent-%COMP%]{padding:2rem}.schedule-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:1.5rem}.vehicle-info[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:1rem}.vehicle-icon[_ngcontent-%COMP%]{background-color:#7c3aed;color:#fff;padding:12px;border-radius:8px;font-size:20px;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.vehicle-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;color:#111827;font-size:1.1rem;font-weight:600}.vehicle-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.9rem}label[_ngcontent-%COMP%]{font-weight:600;display:block;margin-top:1rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #d1d5db;border-radius:8px;margin-top:4px}.summary[_ngcontent-%COMP%]{margin-top:1.5rem;background-color:#f9fafb;border-radius:8px;padding:1rem}.summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#111827;font-size:1.1rem;font-weight:600}.summary-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 0}.label[_ngcontent-%COMP%]{font-weight:500;color:#374151}.value[_ngcontent-%COMP%]{color:#111827;font-weight:500}.total-row[_ngcontent-%COMP%]{background:#fff;padding:8px;border-radius:6px;margin-top:8px;border:1px solid #e5e7eb}.total[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#7c3aed}.actions[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;gap:10px}.actions[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{flex:1;background-color:#7c3aed;color:#fff;border:none;border-radius:8px;padding:10px}.actions[_ngcontent-%COMP%]   .draft[_ngcontent-%COMP%]{flex:1;background-color:#f3f4f6;border:none;border-radius:8px;padding:10px}"]})};export{L as ScheduleUnlockComponent};
